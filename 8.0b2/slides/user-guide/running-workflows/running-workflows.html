<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Running Workflows &mdash; Cylc 8.0b2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <link rel="stylesheet" href="../../_static/css/slides-custom.css" type="text/css" />
    
    
    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/diff_selector.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/grid_table.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/hieroglyph_theme_addons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/tutorial.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/addons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.0b2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/diff_selector.js"></script>
    <script type="text/javascript" src="../../_static/js/minicylc.js"></script>
    <script type="text/javascript" src="../../_static/js/spoiler.js"></script>
    <script type="text/javascript" src="../../_static/js/addons.js"></script>
    <script type="text/javascript" src="../../_static/common.js"></script>
    
    <script type="text/javascript" src="../../_static/slides.js"></script>
    <script type="text/javascript" src="../../_static/sync.js"></script>
    <script type="text/javascript" src="../../_static/controller.js"></script>
    <script type="text/javascript" src="../../_static/init.js"></script>
    
    
    <link rel="shortcut icon" href="../../_static/cylc-favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Cylc 8.0b2 documentation" href="../../index.html" />
    <link rel="up" title="Running Workflows" href="index.html" />
    <link rel="next" title="Workflow Storage, Discovery, Revision Control, and Deployment" href="../workflow-storage-etc.html" />
    <link rel="prev" title="Running Workflows" href="index.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="running-workflows">

<h1>Running Workflows<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#running-workflows" title="View HTML">§</a></h1>

<p>This chapter currently features a diverse collection of topics related
to running workflows.</p>




</article>
<article class="slide level-2" id="workflow-start-up">

<h2>Workflow Start-Up<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#workflow-start-up" title="View HTML">§</a></h2>

<p>There are three ways to start a workflow running:</p>
<ul class="simple">
<li>Cold start: start from scratch</li>
<li>Warm start: start from scratch, but after the initial cycle point</li>
<li>Restart: continue from prior workflow state</li>
</ul>
<p>Once a workflow has been started, it cannot start from scratch again without a
re-install. At this point, it is typically a restart that is needed most
often (but see also <a class="reference internal" href="#reloading-the-workflow-configuration-at-runtime"><span class="std std-ref">Reloading The Workflow Configuration At Runtime</span></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Cylc 7 it was posssible to cold/warm start a workflow without having to
reinstall it. In Cylc 8, you must reinstall the workflow or remove its
database in order to cold/warm start it.</p>
</div>




</article>
<article class="slide level-3" id="cold-start">

<h3>Cold Start<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#cold-start" title="View HTML">§</a></h3>

<p>A cold start is the primary way to run a workflow for the first time:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cylc play WORKFLOW
</pre></div>
</div>
<p>The initial cycle point may be specified on the command line or in the <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc" title="flow.cylc"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">flow.cylc</span></code></a>
file. The scheduler starts by loading the first instance of each task at the
workflow initial cycle point, or at the next valid point for the task.</p>




</article>
<article class="slide level-3" id="warm-start">

<h3>Warm Start<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#warm-start" title="View HTML">§</a></h3>

<p>A warm start runs a workflow for the first time, like a cold start,
but from the beginning of a given <a class="reference internal" href="../../glossary.html#term-start-cycle-point"><span class="xref std std-term">start cycle point</span></a> that is beyond the
workflow <a class="reference internal" href="../../glossary.html#term-initial-cycle-point"><span class="xref std std-term">initial cycle point</span></a>. The warm start cycle point must be given
on the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cylc play WORKFLOW --start-cycle-point<span class="o">=</span>CYCLE_POINT
</pre></div>
</div>
<p>The initial cycle point defined in <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc" title="flow.cylc"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">flow.cylc</span></code></a> is preserved, but
all tasks and dependencies before the start cycle point are ignored.</p>
<p>The scheduler starts by loading a first instance of each task at the warm
start cycle point, or at the next valid point for the task.
<code class="docutils literal notranslate"><span class="pre">R1</span></code> type tasks behave exactly the same as other tasks - if their
cycle point is at or later than the given start cycle point, they will run; if
not, they will be ignored.</p>




</article>
<article class="slide level-3" id="start-cycle-point-stop-cycle-point">

<h3>Start Cycle Point &amp; Stop Cycle Point<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#start-cycle-point-stop-cycle-point" title="View HTML">§</a></h3>

<p>All workflows have an <a class="reference internal" href="../../glossary.html#term-initial-cycle-point"><span class="xref std std-term">initial cycle point</span></a> and many have a
<a class="reference internal" href="../../glossary.html#term-final-cycle-point"><span class="xref std std-term">final cycle point</span></a>. These determine the range between which Cylc will
schedule tasks to run.</p>
<p>By default when you launch a Cylc <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> to run the workflow,
it will start at the <a class="reference internal" href="../../glossary.html#term-initial-cycle-point"><span class="xref std std-term">initial cycle point</span></a> and stop at the
<a class="reference internal" href="../../glossary.html#term-final-cycle-point"><span class="xref std std-term">final cycle point</span></a>. However, it is possible to start and stop the
scheduler at any arbitrary point.</p>
<p>To do this we use a <a class="reference internal" href="../../glossary.html#term-start-cycle-point"><span class="xref std std-term">start cycle point</span></a> and/or <a class="reference internal" href="../../glossary.html#term-stop-cycle-point"><span class="xref std std-term">stop cycle point</span></a>
when we launch the scheduler
(e.g. <code class="docutils literal notranslate"><span class="pre">--start-cycle-point</span></code> and <code class="docutils literal notranslate"><span class="pre">--stop-cycle-point</span></code> CLI arguments).</p>
<p>For example if we were to run the following workflow:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[scheduling]</span>
    <span class="nv">cycling mode </span><span class="o">=</span><span class="s"> integer</span>
    <span class="nv">initial cycle point </span><span class="o">=</span><span class="s"> 1</span>
    <span class="nv">final cycle point </span><span class="o">=</span><span class="s"> 5</span>
    <span class="nt">[[graph]]</span>
        <span class="c1"># every cycle: 1, 2, 3, 4, 5</span>
        <span class="nv">P1 </span><span class="o">=</span><span class="s"> foo</span>
        <span class="c1"># every other cycle: 1, 3, 5</span>
        <span class="nv">P2 </span><span class="o">=</span><span class="s"> bar</span>
</pre></div>
</div>
<p>With a <a class="reference internal" href="../../glossary.html#term-start-cycle-point"><span class="xref std std-term">start cycle point</span></a> of <code class="docutils literal notranslate"><span class="pre">2</span></code> and a <a class="reference internal" href="../../glossary.html#term-stop-cycle-point"><span class="xref std std-term">stop cycle point</span></a> of
<code class="docutils literal notranslate"><span class="pre">4</span></code>, then the task <code class="docutils literal notranslate"><span class="pre">foo</span></code> would run at cycles 2, 3 &amp; 4 and the task <code class="docutils literal notranslate"><span class="pre">bar</span></code>
would only run at cycle <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
<img alt="../../_images/initial-start-stop-final-cp.svg" class="align-center" src="../../_images/initial-start-stop-final-cp.svg" /><ul class="simple">
<li>The initial and final cycle points are at the start and end of the graph.</li>
<li>The start and stop cycle points determine the part of the graph that the scheduler runs.</li>
</ul>




</article>
<article class="slide level-3" id="restart">

<h3>Behaviour of Tasks on Restart<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#behaviour-of-tasks-on-restart" title="View HTML">§</a></h3>

<p>At restart, the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> initializes its task pool from the previous
state at shutdown. This allows the workflow to carry on exactly as it was just
before being shut down or killed.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cylc play WORKFLOW
</pre></div>
</div>
<p>Tasks recorded in the “submitted” or “running” states are automatically polled
(see <a class="reference internal" href="#task-job-polling"><span class="std std-ref">Task Job Polling</span></a>) at start-up to determine what happened to
them while the workflow was down.</p>
<div class="section level-4" id="behaviour-of-tasks-on-restart">
<p>All tasks are reloaded in exactly their recorded states. Failed tasks are
not automatically resubmitted at restart in case the underlying problem has not
been addressed yet.</p>
<p>Tasks recorded in the submitted or running states are automatically polled on
restart, to see if they are still waiting in a <a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runner</span></a> queue, still running, or
if they succeeded or failed while the workflow was down. The workflow state will be
updated automatically according to the poll results.</p>
<p>Existing instances of tasks removed from the workflow configuration before restart
are not removed from the task pool automatically, but they will not spawn new
instances. They can be removed manually if necessary,
with <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">remove</span></code>.</p>
<p>Similarly, instances of new tasks added to the workflow configuration before
restart are not inserted into the task pool automatically, because it is
very difficult in general to automatically determine the cycle point of
the first instance. Instead, the first instance of a new task should be
inserted manually at the right cycle point, with <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">insert</span></code>.</p>
</div>



</article>
<article class="slide level-2" id="reloading-the-workflow-configuration-at-runtime">

<h2>Reloading The Workflow Configuration At Runtime<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#reloading-the-workflow-configuration-at-runtime" title="View HTML">§</a></h2>

<p>The <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">reload</span></code> command tells a <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> to reload its
workflow configuration at run time. This is an alternative to shutting a
workflow down and restarting it after making changes.</p>
<p>As for a restart, existing instances of tasks removed from the workflow
configuration before reload are not removed from the task pool
automatically, but they will not spawn new instances. They can be removed
manually if necessary, with <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">remove</span></code>.</p>
<p>Similarly, instances of new tasks added to the workflow configuration before
reload are not inserted into the pool automatically. The first instance of each
must be inserted manually at the right cycle point, with <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">insert</span></code>.</p>




</article>
<article class="slide level-2" id="the-workflow-contact-file">

<h2>The Workflow Contact File<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#the-workflow-contact-file" title="View HTML">§</a></h2>

<p>At start-up, <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">schedulers</span></a> write a <a class="reference internal" href="../../glossary.html#term-contact-file"><span class="xref std std-term">contact file</span></a>
<code class="docutils literal notranslate"><span class="pre">$HOME/cylc-run/WORKFLOW/.service/contact</span></code> that records workflow host,
user, port number, process ID, Cylc version, and other information. Client
commands can read this file, if they have access to it, to find the target
<a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a>.</p>




</article>
<article class="slide level-2" id="authentication-files">

<h2>Authentication Files<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#authentication-files" title="View HTML">§</a></h2>

<p>Cylc uses <a class="reference external" href="http://curvezmq.org/page:read-the-docs/">CurveZMQ</a> to ensure that
any data, sent between the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> and the client,
remains protected during transmission. Public keys are used to encrypt the
data, private keys for decryption.</p>
<p>Authentication files will be created in your
<code class="docutils literal notranslate"><span class="pre">$HOME/cylc-run/WORKFLOW/.service/</span></code> directory at start-up. You can expect to
find one client public key per file system for remote jobs.</p>
<p>On the workflow host, the directory structure should contain:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~/cylc-run/workflow_x
|__.service
   |__client_public_keys
   |  \-- client_localhost.key
   |  \-- &lt;any further client keys&gt;
|  \-- client.key_secret
|  \-- server.key
|  \-- server.key_secret
</pre></div>
</div>
</div></blockquote>
<p>On the remote job host, the directory structure should contain:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~/cylc-run/workflow_x
|__.service
   \-- client.key
   \-- client.key_secret
   \-- server.key
</pre></div>
</div>
</div></blockquote>
<p>Keys are removed as soon as they are no longer required.</p>




</article>
<article class="slide level-2" id="task-job-polling">

<h2>Task Job Polling<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#task-job-polling" title="View HTML">§</a></h2>

<p>At any point after job submission task jobs can be <em>polled</em> to check that
their true state conforms to what is currently recorded by the workflow server
program. See <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">poll</span> <span class="pre">--help</span></code> for how to poll one or more tasks
manually.</p>
<p>Polling may be necessary if, for example, a task job gets killed by the
untrappable SIGKILL signal (e.g. <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-9</span> <span class="pre">PID</span></code>), or if a network
outage prevents task success or failure messages getting through, or if the
<a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> itself is down when tasks finish execution.</p>
<p>To poll a task job the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> interrogates the
<a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runner</span></a>, and the <code class="docutils literal notranslate"><span class="pre">job.status</span></code> file, on the job host. This
information is enough to determine the final task status even if the
job finished while the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> was down or unreachable on
the network.</p>




</article>
<article class="slide level-3" id="routine-polling">

<h3>Routine Polling<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#routine-polling" title="View HTML">§</a></h3>

<p>Task jobs are automatically polled at certain times: once on job submission
timeout; several times on exceeding the job execution time limit; and at workflow
restart any tasks recorded as active are polled
to find out what happened to them while the workflow was down.</p>
<p>Finally, in necessary routine polling can be configured as a way to track job
status on job hosts that do not allow networking routing back to the workflow host
for task messaging by TCP or SSH. See <a class="reference internal" href="#polling-to-track-job-status"><span class="std std-ref">Polling to Track Job Status</span></a>.</p>




</article>
<article class="slide level-2" id="tracking-task-state">

<h2>Tracking Task State<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#tracking-task-state" title="View HTML">§</a></h2>

<p>Cylc supports three ways of tracking task state on job hosts:</p>
<ul class="simple">
<li>task-to-workflow messaging via TCP (using ZMQ protocol)</li>
<li>task-to-workflow messaging via non-interactive SSH to the workflow host, then
local tcp.</li>
<li>regular polling by the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a></li>
</ul>
<p>These can be configured per platform using
<a class="reference internal" href="../../reference/config/global.html#global.cylc[platforms][&lt;platform name&gt;]communication method" title="global.cylc[platforms][&lt;platform name&gt;]communication method"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">global.cylc[platforms][&lt;platform</span> <span class="pre">name&gt;]communication</span> <span class="pre">method</span></code></a>.</p>
<p>If your site prohibits TCP and SSH back from job hosts to
workflow hosts, before resorting to the polling method you should
consider installing dedicated Cylc servers or
VMs inside the HPC trust zone (where TCP and SSH should be allowed).</p>
<p>It is also possible to run Cylc <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">schedulers</span></a> on HPC login
nodes, but this is not recommended for load and run duration.</p>
<p>Finally, it has been suggested that <em>port forwarding</em> may provide another
solution - this has been investigated and will not be implemented at this time.
Organisations often have port forwarding disabled for security reasons.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended that you use platform configuration within your workflows
<a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime][&lt;namespace&gt;]platform" title="flow.cylc[runtime][&lt;namespace&gt;]platform"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">flow.cylc[runtime][&lt;namespace&gt;]platform</span></code></a>, rather than the
deprecated <code class="docutils literal notranslate"><span class="pre">host</span></code> setting to ensure the intended task communication method
is applied.</p>
</div>




</article>
<article class="slide level-3" id="tcp-task-messaging">

<h3>TCP Task Messaging<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#tcp-task-messaging" title="View HTML">§</a></h3>

<p>Task job wrappers automatically invoke <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">message</span></code> to report
progress back to the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> when they begin executing,
at normal exit (success) and abnormal exit (failure).</p>
<p>By default the messaging occurs via an authenticated, TCP connection to the
<a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> using the ZMQ protocol.
This is the preferred task communications method - it is efficient and direct.</p>
<p>Schedulers automatically install workflow <a class="reference internal" href="../../glossary.html#term-contact-file"><span class="xref std std-term">contact information</span></a> and credentials on job hosts. Users only need to do this
manually for remote access to workflows on other hosts, or workflows owned by other
users - see <a class="reference internal" href="#remotecontrol"><span class="std std-ref">Remote Control</span></a>.</p>




</article>
<article class="slide level-3" id="ssh-task-communication">

<h3>SSH Task Communication<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#ssh-task-communication" title="View HTML">§</a></h3>

<p>Cylc can be configured to re-invoke task messaging commands on the workflow
host via non-interactive SSH (from job platform to workflow host).</p>
<p>User-invoked client commands have been automatically enabled to support this
method of communication, when
<a class="reference internal" href="../../reference/config/global.html#global.cylc[platforms][&lt;platform name&gt;]communication method" title="global.cylc[platforms][&lt;platform name&gt;]communication method"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">global.cylc[platforms][&lt;platform</span> <span class="pre">name&gt;]communication</span> <span class="pre">method</span></code></a> is
configured to <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.</p>
<p>This is less efficient than direct ZMQ protocol messaging, but it may be useful at
sites where the ZMQ ports are blocked but non-interactive SSH is allowed.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Ensure SSH keys are in place for the remote task platform(s) before enabling
this feature. Failure to do so, will result in
<code class="docutils literal notranslate"><span class="pre">Host</span> <span class="pre">key</span> <span class="pre">verification</span> <span class="pre">failed</span></code> error.</p>
</div>




</article>
<article class="slide level-3" id="polling-to-track-job-status">

<h3>Polling to Track Job Status<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#polling-to-track-job-status" title="View HTML">§</a></h3>

<p>Schedulers can actively poll task jobs at configurable intervals,
via non-interactive SSH to the job host.</p>
<p>Polling is the least efficient task communications method because task state is
updated only at intervals, not when task events actually occur. However, it
may be needed at sites that do not allow TCP or non-interactive SSH from job
host to workflow host.</p>
<p>Be careful to avoid spamming task hosts with polling commands. Each poll
opens (and then closes) a new SSH connection.</p>
<p>Polling intervals are configurable under <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime]" title="flow.cylc[runtime]"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">[runtime]</span></code></a> because
they should may depend on the expected execution time. For instance, a
task that typically takes an hour to run might be polled every 10
minutes initially, and then every minute toward the end of its run.
Interval values are used in turn until the last value, which is used
repeatedly until finished:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[foo]]</span>
        <span class="c1"># poll every minute in the &#39;submitted&#39; state:</span>
        <span class="nv">submission polling intervals </span><span class="o">=</span><span class="s"> PT1M</span>

        <span class="c1"># poll one minute after foo starts running, then every 10</span>
        <span class="c1"># minutes for 50 minutes, then every minute until finished:</span>
        <span class="nv">execution polling intervals </span><span class="o">=</span><span class="s"> PT1M, 5*PT10M, PT1M</span>
</pre></div>
</div>
<p>A list of intervals with optional multipliers can be used for both submission
and execution polling, although a single value is probably sufficient for
submission polling. If these items are not configured default values from
site and user global config will be used for
<a class="reference internal" href="../../reference/config/global.html#global.cylc[platforms][&lt;platform name&gt;]communication method" title="global.cylc[platforms][&lt;platform name&gt;]communication method"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">communication</span> <span class="pre">method=polling</span></code></a>; polling is not done by default
under the other task communications methods (but it can still be used
if you like).</p>




</article>
<article class="slide level-2" id="client-server-interaction">

<h2>Client-Server Interaction<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#client-server-interaction" title="View HTML">§</a></h2>

<p>Schedulers listen on dedicated network ports for
TCP communications from Cylc clients (task jobs and user-invoked commands)</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">scan</span></code> to see which workflows are listening on which ports on
scanned hosts.</p>
<p>Cylc generates public-private key pairs on the workflow server and job hosts
which are used for authentication.</p>




</article>
<article class="slide level-2" id="remote-control">

<h2>Remote Control<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#remote-control" title="View HTML">§</a></h2>

<p>Cylc client programs connect to running workflows using information stored in
the <a class="reference internal" href="../../glossary.html#term-contact-file"><span class="xref std std-term">contact file</span></a> in the workflow <a class="reference internal" href="../../glossary.html#term-run-directory"><span class="xref std std-term">run directory</span></a>.</p>
<p>This means that Cylc can interact with workflows running on another host provided
that they share the filesystem on which the <a class="reference internal" href="../../glossary.html#term-cylc-run-directory"><span class="xref std std-term">cylc-run directory</span></a>
(<code class="docutils literal notranslate"><span class="pre">cylc-run</span></code>) is located.</p>
<p>If the hosts do not share a filesystem you must use SSH when calling Cylc client
commands.</p>




</article>
<article class="slide level-2" id="task-states-explained">

<h2>Task States Explained<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#task-states-explained" title="View HTML">§</a></h2>

<p>As a workflow runs, its task proxies may pass through the following states:</p>
<ul class="simple">
<li><strong>waiting</strong> - still waiting for prerequisites (e.g. dependence on
other tasks, and clock triggers) to be satisfied.</li>
<li><strong>queued</strong> - ready to run (prerequisites satisfied) but
temporarily held back by an <em>internal cylc queue</em>
(see <a class="reference internal" href="../writing-workflows/scheduling.html#internalqueues"><span class="std std-ref">Limiting Activity With Internal Queues</span></a>).</li>
<li><strong>ready</strong> - ready to run (prerequisites satisfied) and
handed to cylc’s job submission sub-system.</li>
<li><strong>submitted</strong> - submitted to run, but not executing yet
(could be waiting in an external <a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runner</span></a> queue).</li>
<li><strong>submit-failed</strong> - job submission failed <em>or</em>
submitted job killed (cancelled) before commencing execution.</li>
<li><strong>submit-retrying</strong> - job submission failed, but a submission retry
was configured. Will only enter the <em>submit-failed</em> state if all
configured submission retries are exhausted.</li>
<li><strong>running</strong> - currently executing (a <em>task started</em>
message was received, or the task polled as running).</li>
<li><strong>succeeded</strong> - finished executing successfully (a <em>task
succeeded</em> message was received, or the task polled as succeeded).</li>
<li><strong>failed</strong> - aborted execution due to some error condition (a
<em>task failed</em> message was received, or the task polled as failed).</li>
<li><strong>retrying</strong> - job execution failed, but an execution retry
was configured. Will only enter the <em>failed</em> state if all configured
execution retries are exhausted.</li>
<li><strong>runahead</strong> - will not have prerequisites checked (and so
automatically held, in effect) until the rest of the workflow catches up
sufficiently. The amount of runahead allowed is configurable - see
<a class="reference internal" href="../writing-workflows/scheduling.html#runaheadlimit"><span class="std std-ref">Runahead Limiting</span></a>.</li>
<li><strong>expired</strong> - will not be submitted to run, due to falling too far
behind the wall-clock relative to its cycle point -
see <a class="reference internal" href="../writing-workflows/scheduling.html#clockexpiretasks"><span class="std std-ref">Clock-Expire Triggers</span></a>.</li>
</ul>




</article>
<article class="slide level-2" id="managing-external-command-execution">

<h2>Managing External Command Execution<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#managing-external-command-execution" title="View HTML">§</a></h2>

<p>Job submission commands, event handlers, and job poll and kill commands, are
executed by the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> in a “pool” of asynchronous
subprocesses, in order to avoid blocking the workflow process. The process pool
is actively managed to limit it to a configurable size, using
<a class="reference internal" href="../../reference/config/global.html#global.cylc[scheduler]process pool size" title="global.cylc[scheduler]process pool size"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">global.cylc[scheduler]process</span> <span class="pre">pool</span> <span class="pre">size</span></code></a>.
Custom event handlers should be lightweight and quick-running because they
will tie up a process pool member until they complete, and the workflow will
appear to stall if the pool is saturated with long-running processes.
However, to guard against rogue commands that hang indefinitely, processes
are killed after a configurable timeout
(<a class="reference internal" href="../../reference/config/global.html#global.cylc[scheduler]process pool timeout" title="global.cylc[scheduler]process pool timeout"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">global.cylc[scheduler]process</span> <span class="pre">pool</span> <span class="pre">timeout</span></code></a>).
All process kills are
logged by the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a>. For killed job submissions the associated
tasks also go to the <em>submit-failed</em> state.</p>




</article>
<article class="slide level-2" id="handling-job-preemption">

<h2>Handling Job Preemption<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#handling-job-preemption" title="View HTML">§</a></h2>

<p>Some HPC facilities allow job preemption: the resource manager can kill
or suspend running low priority jobs in order to make way for high
priority jobs. The preempted jobs may then be automatically restarted
by the resource manager, from the same point (if suspended) or requeued
to run again from the start (if killed).</p>
<p>Suspended jobs will poll as still running (their job status file says they
started running, and they still appear in the resource manager queue).
Loadleveler jobs that are preempted by kill-and-requeue (“job vacation”) are
automatically returned to the submitted state by Cylc. This is possible
because Loadleveler sends the SIGUSR1 signal before SIGKILL for preemption.
Other <a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runners</span></a> just send SIGTERM before SIGKILL as normal, so Cylc
cannot distinguish a preemption job kill from a normal job kill. After this the
job will poll as failed (correctly, because it was killed, and the job status
file records that). To handle this kind of preemption automatically you could
use a task failed or retry event handler that queries the job runner queue
(after an appropriate delay if necessary) and then, if the job has been
requeued, uses <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">reset</span></code> to reset the task to the submitted state.</p>




</article>
<article class="slide level-2" id="cylc-broadcast">

<h2>Cylc Broadcast<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#cylc-broadcast" title="View HTML">§</a></h2>

<p>The <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">broadcast</span></code> command overrides <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime]" title="flow.cylc[runtime]"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">[runtime]</span></code></a>
settings in a running workflow. This can
be used to communicate information to downstream tasks by broadcasting
environment variables (communication of information from one task to
another normally takes place via the filesystem, i.e. the input/output
file relationships embodied in inter-task dependencies). Variables (and
any other runtime settings) may be broadcast to all subsequent tasks,
or targeted specifically at a specific task, all subsequent tasks with a
given name, or all tasks with a given cycle point; see broadcast command help
for details.</p>
<p>Broadcast settings targeted at a specific task ID or cycle point expire and
are forgotten as the workflow moves on. Un-targeted variables and those
targeted at a task name persist throughout the workflow run, even across
restarts, unless manually cleared using the broadcast command - and so
should be used sparingly.</p>




</article>
<article class="slide level-2" id="simulating-workflow-behaviour">

<h2>Simulating Workflow Behaviour<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#simulating-workflow-behaviour" title="View HTML">§</a></h2>

<p>Several workflow run modes allow you to simulate workflow behaviour quickly without
running the workflow’s real jobs - which may be long-running and resource-hungry:</p>
<dl class="docutils">
<dt>dummy mode</dt><dd><p>Runs tasks as background jobs on configured job hosts.</p>
<p>This simulates scheduling, job host connectivity, and generates all job
files on workflow and job hosts.</p>
</dd>
<dt>dummy-local mode</dt><dd><p>Runs real tasks as background jobs on the workflow host, which allows
dummy-running workflows from other sites.</p>
<p>This simulates scheduling and generates all job files on the workflow host.</p>
</dd>
<dt>simulation mode</dt><dd><p>Does not run any real tasks.</p>
<p>This simulates scheduling without generating any job files.</p>
</dd>
</dl>
<p>Set the run mode (default <code class="docutils literal notranslate"><span class="pre">live</span></code>) on the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cylc play --mode<span class="o">=</span>dummy WORKFLOW
</pre></div>
</div>
<p>You can get specified tasks to fail in these modes, for more flexible workflow
testing. See cylc:conf:<cite>[runtime][&lt;namespace&gt;][simulation]</cite>.</p>




</article>
<article class="slide level-3" id="proportional-simulated-run-length">

<h3>Proportional Simulated Run Length<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#proportional-simulated-run-length" title="View HTML">§</a></h3>

<p>If <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime][&lt;namespace&gt;]execution time limit" title="flow.cylc[runtime][&lt;namespace&gt;]execution time limit"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">[runtime][&lt;namespace&gt;]execution</span> <span class="pre">time</span> <span class="pre">limit</span></code></a> is set, Cylc
divides it by <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime][&lt;namespace&gt;][simulation]speedup factor" title="flow.cylc[runtime][&lt;namespace&gt;][simulation]speedup factor"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">[runtime][&lt;namespace&gt;][simulation]speedup</span> <span class="pre">factor</span></code></a> to compute simulated task
run lengths.</p>




</article>
<article class="slide level-3" id="limitations-of-workflow-simulation">

<h3>Limitations Of Workflow Simulation<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#limitations-of-workflow-simulation" title="View HTML">§</a></h3>

<p>Dummy mode ignores <a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runner</span></a> settings because Cylc does not know which
job resource directives (requested memory, number of compute nodes, etc.) would
need to be changed for the dummy jobs. If you need to dummy-run jobs on a
job runner manually comment out <code class="docutils literal notranslate"><span class="pre">script</span></code> items and modify
directives in your live workflow, or else use a custom live mode test workflow.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The dummy modes ignore all configured task <code class="docutils literal notranslate"><span class="pre">script</span></code> items
including <code class="docutils literal notranslate"><span class="pre">init-script</span></code>. If your <code class="docutils literal notranslate"><span class="pre">init-script</span></code> is required
to run even blank/empty tasks on a job host, note that host environment
setup should be done elsewhere.</p>
</div>




</article>
<article class="slide level-3" id="restarting-workflows-with-a-different-run-mode">

<h3>Restarting Workflows With A Different Run Mode?<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#restarting-workflows-with-a-different-run-mode" title="View HTML">§</a></h3>

<p>The run mode is recorded in the workflow run database files. Cylc will not let
you <em>restart</em> a non-live mode workflow in live mode, or vice versa. To
test a live workflow in simulation mode just take a quick copy of it and run the
the copy in simulation mode.</p>




</article>
<article class="slide level-2" id="automated-reference-test-workflows">

<h2>Automated Reference Test Workflows<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#automated-reference-test-workflows" title="View HTML">§</a></h2>

<p>Reference tests are finite-duration workflow runs that abort with non-zero
exit status if any of the following conditions occur (by default):</p>
<ul class="simple">
<li>cylc fails</li>
<li>any task fails</li>
<li>the workflow times out (e.g. a task dies without reporting failure)</li>
<li>a nominated shutdown event handler exits with error status</li>
</ul>
<p>When a reference test workflow shuts down, it compares task triggering
information (what triggers off what at run time) in the test run workflow
log to that from an earlier reference run, disregarding the timing and
order of events - which can vary according to the external queueing
conditions, runahead limit, and so on.</p>
<p>To prepare a reference log for a workflow, run it with the
<code class="docutils literal notranslate"><span class="pre">--reference-log</span></code> option, and manually verify the
correctness of the reference run.</p>
<p>To reference test a workflow, just run it (in dummy mode for the most
comprehensive test without running real tasks) with the
<code class="docutils literal notranslate"><span class="pre">--reference-test</span></code> option.</p>
<p>A battery of automated reference tests is used to test cylc before
posting a new release version. Reference tests can also be used to check that
a cylc upgrade will not break your own complex
workflows - the triggering check will catch any bug that causes a task to
run when it shouldn’t, for instance; even in a dummy mode reference
test the full task job script (sans <code class="docutils literal notranslate"><span class="pre">script</span></code> items) executes on the
proper task host by the proper <a class="reference internal" href="../../glossary.html#term-job-runner"><span class="xref std std-term">job runner</span></a>.</p>
<p>Reference tests can be configured with the following settings:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[scheduler]</span>
    <span class="nt">[[reference test]]</span>
        <span class="nv">expected task failures </span><span class="o">=</span><span class="s"> t1.1</span>
</pre></div>
</div>




</article>
<article class="slide level-3" id="roll-your-own-reference-tests">

<h3>Roll-your-own Reference Tests<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#roll-your-own-reference-tests" title="View HTML">§</a></h3>

<p>If the default reference test is not sufficient for your needs, firstly
note that you can override the default shutdown event handler, and
secondly that the <code class="docutils literal notranslate"><span class="pre">--reference-test</span></code> option is merely a short
cut to the following <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc" title="flow.cylc"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">flow.cylc</span></code></a> settings which can also be set manually if
you wish:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[scheduler]</span>
    <span class="nt">[[events]]</span>
        <span class="nv">timeout </span><span class="o">=</span><span class="s"> PT5M</span>
        <span class="nv">abort if shutdown handler fails </span><span class="o">=</span><span class="s"> True</span>
        <span class="nv">abort on timeout </span><span class="o">=</span><span class="s"> True</span>
</pre></div>
</div>




</article>
<article class="slide level-2" id="workflow-server-logs">

<h2>Workflow Server Logs<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#workflow-server-logs" title="View HTML">§</a></h2>

<p>Each workflow maintains its own log of time-stamped events in the
<a class="reference internal" href="../../glossary.html#term-workflow-log-directory"><span class="xref std std-term">workflow log directory</span></a> (<code class="docutils literal notranslate"><span class="pre">$HOME/cylc-run/WORKFLOW-NAME/log/workflow/</span></code>).</p>
<p>The information logged here includes:</p>
<ul class="simple">
<li>Event timestamps, at the start of each line</li>
<li>Workflow server host, port and process ID</li>
<li>Workflow initial and final cycle points</li>
<li>Workflow start type (i.e. cold start, warn start, restart)</li>
<li>Task events (task started, succeeded, failed, etc.)</li>
<li>Workflow stalled warnings.</li>
<li>Client commands (e.g. <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">hold</span></code>)</li>
<li>Job IDs.</li>
<li>Information relating to the remote file installation, contained in a
separate log file, the <code class="docutils literal notranslate"><span class="pre">file-installation-log</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Workflow log files are primarily intended for human eyes. If you need
to have an external system to monitor workflow events automatically,
interrogate the sqlite <em>workflow run database</em>
(see <a class="reference internal" href="#workflow-run-databases"><span class="std std-ref">Workflow Run Databases</span></a>) rather than parse the log files.</p>
</div>




</article>
<article class="slide level-2" id="workflow-run-databases">

<h2>Workflow Run Databases<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#workflow-run-databases" title="View HTML">§</a></h2>

<p>Schedulers maintain two <code class="docutils literal notranslate"><span class="pre">sqlite</span></code> databases to record
information on run history:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>HOME/cylc-run/WORKFLOW-NAME/log/db  <span class="c1"># public workflow DB</span>
<span class="gp">$</span>HOME/cylc-run/WORKFLOW-NAME/.service/db  <span class="c1"># private workflow DB</span>
</pre></div>
</div>
<p>The private DB is for use only by the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a>. The identical
public DB is provided for use by external commands such as
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">workflow-state</span></code>, and <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">report-timings</span></code>.
If the public DB gets locked for too long by
an external reader, the <a class="reference internal" href="../../glossary.html#term-scheduler"><span class="xref std std-term">scheduler</span></a> will eventually delete it and
replace it with a new copy of the private DB, to ensure that both correctly
reflect the workflow state.</p>
<p>You can interrogate the public DB with the <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> command line tool,
the <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> module in the Python standard library, or any other
sqlite interface.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sqlite3 ~/cylc-run/foo/log/db <span class="s">&lt;&lt; _END_</span>
<span class="go">&gt; .headers on</span>
<span class="go">&gt; select * from task_events where name is &quot;foo&quot;;</span>
<span class="go">&gt; _END_</span>
<span class="go">name|cycle|time|submit_num|event|message</span>
<span class="go">foo|1|2017-03-12T11:06:09Z|1|submitted|</span>
<span class="go">foo|1|2017-03-12T11:06:09Z|1|output completed|started</span>
<span class="go">foo|1|2017-03-12T11:06:09Z|1|started|</span>
<span class="go">foo|1|2017-03-12T11:06:19Z|1|output completed|succeeded</span>
<span class="go">foo|1|2017-03-12T11:06:19Z|1|succeeded|</span>
</pre></div>
</div>
<p>The diagram shown below contains the database tables, their columns,
and how the tables are related to each other. For more details on how
to interpret the diagram, refer to the
<a class="reference external" href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model">Entity–relationship model Wikipedia article</a>.</p>
<div align="center" class="align-center"><div class="graphviz"><object data="../../_images/graphviz-46d0ef7340147af29226691dc7553aba7ebee670.svg" type="image/svg+xml" class="graphviz">
<p class="warning">graph {
node [label = &quot;\N&quot;, shape = plaintext];
edge [color = gray50, minlen = 2, style = dashed];
rankdir = &quot;LR&quot;;
&quot;absolute_outputs&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;absolute_outputs&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;output&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;broadcast_events&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;broadcast_events&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;change&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;point&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;namespace&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;key&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;value&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;broadcast_states&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;broadcast_states&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;point&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;namespace&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;key&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;value&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;inheritance&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;inheritance&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;namespace&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;inheritance&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_action_timers&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_action_timers&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;ctx_key&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;ctx&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;delays&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;num&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;delay&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;timeout&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_events&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_events&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;submit_num&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;event&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;message&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_jobs&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_jobs&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;submit_num&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;is_manual_submit&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;try_num&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_submit&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_submit_exit&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;submit_status&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_run&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_run_exit&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;run_signal&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;run_status&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;platform_name&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;job_runner_name&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;job_id&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_late_flags&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_late_flags&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;value&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_outputs&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_outputs&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;outputs&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_pool&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_pool&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;flow_label&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;status&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;is_held&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_prerequisites&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_prerequisites&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;prereq_name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;prereq_cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;prereq_output&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;satisfied&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_states&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_states&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;flow_label&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_created&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;time_updated&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;submit_num&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;status&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_timeout_timers&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;task_timeout_timers&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;timeout&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;tasks_to_hold&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;tasks_to_hold&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;name&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;cycle&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;workflow_params&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;workflow_params&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;key&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;value&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;workflow_template_vars&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;workflow_template_vars&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;key&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;value&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;xtriggers&quot; [label=&lt;&lt;FONT FACE=&quot;Helvetica&quot;&gt;&lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLPADDING=&quot;4&quot; CELLSPACING=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;FONT POINT-SIZE=&quot;16&quot;&gt;xtriggers&lt;/FONT&gt;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;u&gt;&lt;FONT&gt;signature&lt;/FONT&gt;&lt;/u&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;results&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;absolute_outputs&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;broadcast_events&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;broadcast_states&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;inheritance&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;task_prerequisites&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;tasks_to_hold&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;workflow_params&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;workflow_template_vars&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD ALIGN=&quot;LEFT&quot;&gt;&lt;FONT&gt;xtriggers&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;/FONT&gt;&gt;];
&quot;task_states&quot; -- &quot;task_events&quot; [taillabel=&lt;&lt;FONT&gt;0..N&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
&quot;task_states&quot; -- &quot;task_jobs&quot; [taillabel=&lt;&lt;FONT&gt;0..N&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
&quot;task_pool&quot; -- &quot;task_action_timers&quot; [taillabel=&lt;&lt;FONT&gt;0..N&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
&quot;task_pool&quot; -- &quot;task_late_flags&quot; [taillabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
&quot;task_pool&quot; -- &quot;task_outputs&quot; [taillabel=&lt;&lt;FONT&gt;0..N&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
&quot;task_pool&quot; -- &quot;task_timeout_timers&quot; [taillabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;,headlabel=&lt;&lt;FONT&gt;{0,1}&lt;/FONT&gt;&gt;];
subgraph {
rank=same
rankdir=LR
&quot;absolute_outputs&quot;
&quot;broadcast_events&quot;
&quot;broadcast_states&quot;
&quot;inheritance&quot;
&quot;task_prerequisites&quot;
&quot;tasks_to_hold&quot;
&quot;workflow_params&quot;
&quot;workflow_template_vars&quot;
&quot;xtriggers&quot;
}
&quot;task_pool_checkpoints&quot; -- &quot;inheritance&quot;[style=invis];
}</p></object></div>
</div>




</article>
<article class="slide level-2" id="auto-stop-restart">

<h2>Auto Stop-Restart<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#auto-stop-restart" title="View HTML">§</a></h2>

<p>Cylc has the ability to automatically stop workflows running on a particular host
and optionally, restart them on a different host.
This is useful if a host needs to be taken off-line e.g. for
scheduled maintenance.</p>
<p>See <a class="reference internal" href="../../plugins/main-loop/built-in/cylc.flow.main_loop.auto_restart.html#module-cylc.flow.main_loop.auto_restart" title="cylc.flow.main_loop.auto_restart"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cylc.flow.main_loop.auto_restart</span></code></a> for details.</p>




</article>
<article class="slide level-2" id="alternate-run-directories">

<h2>Alternate Run Directories<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#alternate-run-directories" title="View HTML">§</a></h2>

<p>The <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">install</span></code> command normally creates a worflow run directory at
the standard location <code class="docutils literal notranslate"><span class="pre">~/cylc-run/&lt;WORKFLOW-NAME&gt;/</span></code>. Configure the run
directory in the <code class="docutils literal notranslate"><span class="pre">global.cylc</span></code> file: <a class="reference internal" href="../../reference/config/global.html#global.cylc[install][symlink dirs]" title="global.cylc[install][symlink dirs]"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">global.cylc[install][symlink</span> <span class="pre">dirs]</span></code></a>.</p>
<p>This may be useful for quick-running <a class="reference internal" href="#sub-workflows"><span class="std std-ref">Sub-Workflows</span></a> that generate large
numbers of files - you could put their run directories on fast local disk or
RAM disk, for performance and housekeeping reasons.</p>




</article>
<article class="slide level-2" id="sub-workflows">

<h2>Sub-Workflows<a class="headerlink" href="../../../html/user-guide/running-workflows/running-workflows.html#sub-workflows" title="View HTML">§</a></h2>

<p>A single Cylc workflow can configure multiple cycling sequences in the graph,
but cycles can’t be nested. If you need <em>cycles within cycles</em> - e.g. to
iterate over many files generated by each run of a cycling task - current
options are:</p>
<ul class="simple">
<li>parameterize the sub-cycles<ul>
<li>this is easy but it makes more tasks-per-cycle, which is the primary
determinant of workflow size and scheduler efficiency (this has a much
smaller impact from Cylc 8 on, however).</li>
</ul>
</li>
<li>run a separate cycling workflow over the sub-cycle, inside a main-workflow
task, for each main-workflow cycle point - i.e. use <strong>sub-workflows</strong><ul>
<li>this is very efficient, but monitoring and run-directory housekeeping may
be more difficult because it creates multiple workflows and run directories</li>
</ul>
</li>
</ul>
<p>Sub-workflows must be started with <code class="docutils literal notranslate"><span class="pre">--no-detach</span></code> so that the containing task
does not finish until the sub-workflow does, and they should be non-cycling
or have a <code class="docutils literal notranslate"><span class="pre">final</span> <span class="pre">cycle</span> <span class="pre">point</span></code> so they don’t keep on running indefinitely.</p>
<p>Sub-workflow names should normally incorporate the main-workflow cycle point (use
<code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_CYCLE_POINT</span></code> in the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">play</span></code> command line to start the
sub-workflow), so that successive sub-workflows can run concurrently if necessary and
do not compete for the same workflow run directory. This will generate a new
sub-workflow run directory for every main-workflow cycle point, so you may want to
put housekeeping tasks in the main workflow to extract the useful products from each
sub-workflow run and then delete the sub-workflow run directory.</p>
<p>For quick-running sub-workflows that generate large numbers of files, consider
using <a class="reference internal" href="#alternate-run-directories"><span class="std std-ref">Alternate Run Directories</span></a> for better performance and easier housekeeping.</p>




</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>